\begin{figure}[hb]
  \begin{mdframed}
    \centering
    \begin{minipage}{0.666\linewidth}
      \centering
      \begin{alignat*}{4}
        \text{Type}     &  \;&A,B&\coloneqq\ldots\vsep A\himpr B\vsep B\himpl A\vsep\qr[A]\\
        \text{Structure}&^+\;&Γ  &\coloneqq\ldots\vsep Γ_1\hprod Γ_2\vsep\I\vsep\B\vsep\C\\
        \text{Structure}&^-\;&Δ  &\coloneqq\ldots\vsep Γ\himpr Δ\vsep Δ\himpl Γ
      \end{alignat*}
    \end{minipage}%
    \begin{minipage}{0.333\linewidth}
      \centering
      \begin{alignat*}{4}
        &\text{Pol}(A\himpr B) &&\mapsto{-}\\
        &\text{Pol}(B\himpl A) &&\mapsto{-}\\
        &\text{Pol}(\qr[A])    &&\mapsto{+}
      \end{alignat*}
    \end{minipage}
    \\[1\baselineskip]
    (copy of rules for $\{\impr,\prod,\impl\}$ from
    \autoref{fig:display-calculus} for $\{\himpr,\hprod,\himpl\}$)
    \\[1\baselineskip]
    \begin{pfbox}
      \AXC{$\struct{A}\hprod\I\fCenter Δ$}
      \RightLabel{L\I}
      \UIC{$\struct{\qr[A]}\fCenter Δ$}
    \end{pfbox}
    \begin{pfbox}
      \AXC{$Γ\fCenter\focus{B}$}
      \RightLabel{R\I}
      \UIC{$Γ\hprod\I\fCenter\focus{\qr[B]}$}
    \end{pfbox}
    \begin{pfbox}
      \AXC{$Γ\fCenter Δ$}
      \RightLabel{$\I^-$}
      \UIC{$Γ\hprod\I\fCenter Δ$}
    \end{pfbox}
    \\[1\baselineskip]
    \begin{pfbox}
      \AXC{$Γ_1\prod(Γ_2\hprod Γ_3)\fCenter Δ$}
      \doubleLine\RightLabel{\B}
      \UIC{$Γ_2\hprod((\B\prod Γ_1)\prod Γ_3)\fCenter Δ$}
    \end{pfbox}
    \begin{pfbox}
      \AXC{$(Γ_1\hprod Γ_2)\prod Γ_3\fCenter Δ$}
      \doubleLine\RightLabel{\C}
      \UIC{$Γ_1\hprod((\C\prod Γ_2)\prod Γ_3)\fCenter Δ$}
    \end{pfbox}
    \\[1\baselineskip]
    \hrulefill
    \\[1\baselineskip]
    {
      \renewcommand{\arraystretch}{1.5}%
      \(\!
      \begin{array}{c c c}
        \multicolumn{3}{c}{\qr[\tr[A]]\mapsto\tr[A]}\\
        \tr[\I]\mapsto\top      & \tr [\B]\mapsto\top     & \tr [\C]\mapsto\top\\
        \trd[\I]\mapsto\emptyset& \trd[\B]\mapsto\emptyset& \trd[\C]\mapsto\emptyset
      \end{array}
      \)
    }
    \\[1\baselineskip]
    (copy of translations for $\{\impr,\prod,\impl\}$ from
    \autoref{fig:display-calculus-to-explicit-lamET} for
    $\{\himpr,\hprod,\himpl\}$)\\
    \begin{tabular}{c c c}
      \begin{pfbox}
        \AXC{$\struct{A}\hprod\I\fCenter Δ$}
        \RightLabel{L\I}
        \UIC{$\struct{\qr[A]}\fCenter Δ$}
      \end{pfbox}
      &$\Longrightarrow$&
      \begin{pfbox}
        \AXC{$\tr[A]\prod\emptyset\fCenter\tr[Δ]$}
        \RightLabel{$\emptyset$E}
        \UIC{$\tr[A]\fCenter\tr[Δ]$}
      \end{pfbox}
      \\
      \begin{pfbox}
        \AXC{$Γ\fCenter\focus{B}$}
        \RightLabel{R\I}
        \UIC{$Γ\hprod\I\fCenter\focus{\qr[B]}$}
      \end{pfbox}
      &$\Longrightarrow$&
      \begin{pfbox}
        \AXC{$\trd[Γ]\fCenter\tr[B]$}
        \RightLabel{Weak.}
        \UIC{$\trd[Γ]\prod\emptyset\fCenter\tr[B]$}
      \end{pfbox}
      \\
      \begin{pfbox}
        \AXC{$Γ\fCenter Δ$}
        \RightLabel{$\I^-$}
        \UIC{$Γ\hprod\I\fCenter Δ$}
      \end{pfbox}
      &$\Longrightarrow$&
      \begin{pfbox}
        \AXC{$\trd[Γ]\fCenter\tr[Δ]$}
        \RightLabel{Weak.}
        \UIC{$\trd[Γ]\prod\emptyset\fCenter\tr[Δ]$}
      \end{pfbox}
    \end{tabular}
    \\
    \vspace*{\baselineskip}
    (\B\ and \C\ translate to various combinations of associativity,
    commutativity, $\emptyset$E and weakening)
    \\
    \vspace*{\baselineskip}
  \end{mdframed}
  \caption{
    Extension of calculus in \autoref{fig:display-calculus} which
    supports quantifier raising.}%
  \label{fig:extension-quantifier-raising}
\end{figure}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
