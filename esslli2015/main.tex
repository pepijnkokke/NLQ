\documentclass[twocolumn]{article}

%% ODER: format ==         = "\mathrel{==}"
%% ODER: format /=         = "\neq "
%
%
\makeatletter
\@ifundefined{lhs2tex.lhs2tex.sty.read}%
  {\@namedef{lhs2tex.lhs2tex.sty.read}{}%
   \newcommand\SkipToFmtEnd{}%
   \newcommand\EndFmtInput{}%
   \long\def\SkipToFmtEnd#1\EndFmtInput{}%
  }\SkipToFmtEnd

\newcommand\ReadOnlyOnce[1]{\@ifundefined{#1}{\@namedef{#1}{}}\SkipToFmtEnd}
\usepackage{amstext}
\usepackage{amssymb}
\usepackage{stmaryrd}
\DeclareFontFamily{OT1}{cmtex}{}
\DeclareFontShape{OT1}{cmtex}{m}{n}
  {<5><6><7><8>cmtex8
   <9>cmtex9
   <10><10.95><12><14.4><17.28><20.74><24.88>cmtex10}{}
\DeclareFontShape{OT1}{cmtex}{m}{it}
  {<-> ssub * cmtt/m/it}{}
\newcommand{\texfamily}{\fontfamily{cmtex}\selectfont}
\DeclareFontShape{OT1}{cmtt}{bx}{n}
  {<5><6><7><8>cmtt8
   <9>cmbtt9
   <10><10.95><12><14.4><17.28><20.74><24.88>cmbtt10}{}
\DeclareFontShape{OT1}{cmtex}{bx}{n}
  {<-> ssub * cmtt/bx/n}{}
\newcommand{\tex}[1]{\text{\texfamily#1}}	% NEU

\newcommand{\Sp}{\hskip.33334em\relax}


\newcommand{\Conid}[1]{\mathit{#1}}
\newcommand{\Varid}[1]{\mathit{#1}}
\newcommand{\anonymous}{\kern0.06em \vbox{\hrule\@width.5em}}
\newcommand{\plus}{\mathbin{+\!\!\!+}}
\newcommand{\bind}{\mathbin{>\!\!\!>\mkern-6.7mu=}}
\newcommand{\rbind}{\mathbin{=\mkern-6.7mu<\!\!\!<}}% suggested by Neil Mitchell
\newcommand{\sequ}{\mathbin{>\!\!\!>}}
\renewcommand{\leq}{\leqslant}
\renewcommand{\geq}{\geqslant}
\usepackage{polytable}

%mathindent has to be defined
\@ifundefined{mathindent}%
  {\newdimen\mathindent\mathindent\leftmargini}%
  {}%

\def\resethooks{%
  \global\let\SaveRestoreHook\empty
  \global\let\ColumnHook\empty}
\newcommand*{\savecolumns}[1][default]%
  {\g@addto@macro\SaveRestoreHook{\savecolumns[#1]}}
\newcommand*{\restorecolumns}[1][default]%
  {\g@addto@macro\SaveRestoreHook{\restorecolumns[#1]}}
\newcommand*{\aligncolumn}[2]%
  {\g@addto@macro\ColumnHook{\column{#1}{#2}}}

\resethooks

\newcommand{\onelinecommentchars}{\quad-{}- }
\newcommand{\commentbeginchars}{\enskip\{-}
\newcommand{\commentendchars}{-\}\enskip}

\newcommand{\visiblecomments}{%
  \let\onelinecomment=\onelinecommentchars
  \let\commentbegin=\commentbeginchars
  \let\commentend=\commentendchars}

\newcommand{\invisiblecomments}{%
  \let\onelinecomment=\empty
  \let\commentbegin=\empty
  \let\commentend=\empty}

\visiblecomments

\newlength{\blanklineskip}
\setlength{\blanklineskip}{0.66084ex}

\newcommand{\hsindent}[1]{\quad}% default is fixed indentation
\let\hspre\empty
\let\hspost\empty
\newcommand{\NB}{\textbf{NB}}
\newcommand{\Todo}[1]{$\langle$\textbf{To do:}~#1$\rangle$}

\EndFmtInput
\makeatother
%
%
%
%
%
%
% This package provides two environments suitable to take the place
% of hscode, called "plainhscode" and "arrayhscode". 
%
% The plain environment surrounds each code block by vertical space,
% and it uses \abovedisplayskip and \belowdisplayskip to get spacing
% similar to formulas. Note that if these dimensions are changed,
% the spacing around displayed math formulas changes as well.
% All code is indented using \leftskip.
%
% Changed 19.08.2004 to reflect changes in colorcode. Should work with
% CodeGroup.sty.
%
\ReadOnlyOnce{polycode.fmt}%
\makeatletter

\newcommand{\hsnewpar}[1]%
  {{\parskip=0pt\parindent=0pt\par\vskip #1\noindent}}

% can be used, for instance, to redefine the code size, by setting the
% command to \small or something alike
\newcommand{\hscodestyle}{}

% The command \sethscode can be used to switch the code formatting
% behaviour by mapping the hscode environment in the subst directive
% to a new LaTeX environment.

\newcommand{\sethscode}[1]%
  {\expandafter\let\expandafter\hscode\csname #1\endcsname
   \expandafter\let\expandafter\endhscode\csname end#1\endcsname}

% "compatibility" mode restores the non-polycode.fmt layout.

\newenvironment{compathscode}%
  {\par\noindent
   \advance\leftskip\mathindent
   \hscodestyle
   \let\\=\@normalcr
   \let\hspre\(\let\hspost\)%
   \pboxed}%
  {\endpboxed\)%
   \par\noindent
   \ignorespacesafterend}

\newcommand{\compaths}{\sethscode{compathscode}}

% "plain" mode is the proposed default.
% It should now work with \centering.
% This required some changes. The old version
% is still available for reference as oldplainhscode.

\newenvironment{plainhscode}%
  {\hsnewpar\abovedisplayskip
   \advance\leftskip\mathindent
   \hscodestyle
   \let\hspre\(\let\hspost\)%
   \pboxed}%
  {\endpboxed%
   \hsnewpar\belowdisplayskip
   \ignorespacesafterend}

\newenvironment{oldplainhscode}%
  {\hsnewpar\abovedisplayskip
   \advance\leftskip\mathindent
   \hscodestyle
   \let\\=\@normalcr
   \(\pboxed}%
  {\endpboxed\)%
   \hsnewpar\belowdisplayskip
   \ignorespacesafterend}

% Here, we make plainhscode the default environment.

\newcommand{\plainhs}{\sethscode{plainhscode}}
\newcommand{\oldplainhs}{\sethscode{oldplainhscode}}
\plainhs

% The arrayhscode is like plain, but makes use of polytable's
% parray environment which disallows page breaks in code blocks.

\newenvironment{arrayhscode}%
  {\hsnewpar\abovedisplayskip
   \advance\leftskip\mathindent
   \hscodestyle
   \let\\=\@normalcr
   \(\parray}%
  {\endparray\)%
   \hsnewpar\belowdisplayskip
   \ignorespacesafterend}

\newcommand{\arrayhs}{\sethscode{arrayhscode}}

% The mathhscode environment also makes use of polytable's parray 
% environment. It is supposed to be used only inside math mode 
% (I used it to typeset the type rules in my thesis).

\newenvironment{mathhscode}%
  {\parray}{\endparray}

\newcommand{\mathhs}{\sethscode{mathhscode}}

% texths is similar to mathhs, but works in text mode.

\newenvironment{texthscode}%
  {\(\parray}{\endparray\)}

\newcommand{\texths}{\sethscode{texthscode}}

% The framed environment places code in a framed box.

\def\codeframewidth{\arrayrulewidth}
\RequirePackage{calc}

\newenvironment{framedhscode}%
  {\parskip=\abovedisplayskip\par\noindent
   \hscodestyle
   \arrayrulewidth=\codeframewidth
   \tabular{@{}|p{\linewidth-2\arraycolsep-2\arrayrulewidth-2pt}|@{}}%
   \hline\framedhslinecorrect\\{-1.5ex}%
   \let\endoflinesave=\\
   \let\\=\@normalcr
   \(\pboxed}%
  {\endpboxed\)%
   \framedhslinecorrect\endoflinesave{.5ex}\hline
   \endtabular
   \parskip=\belowdisplayskip\par\noindent
   \ignorespacesafterend}

\newcommand{\framedhslinecorrect}[2]%
  {#1[#2]}

\newcommand{\framedhs}{\sethscode{framedhscode}}

% The inlinehscode environment is an experimental environment
% that can be used to typeset displayed code inline.

\newenvironment{inlinehscode}%
  {\(\def\column##1##2{}%
   \let\>\undefined\let\<\undefined\let\\\undefined
   \newcommand\>[1][]{}\newcommand\<[1][]{}\newcommand\\[1][]{}%
   \def\fromto##1##2##3{##3}%
   \def\nextline{}}{\) }%

\newcommand{\inlinehs}{\sethscode{inlinehscode}}

% The joincode environment is a separate environment that
% can be used to surround and thereby connect multiple code
% blocks.

\newenvironment{joincode}%
  {\let\orighscode=\hscode
   \let\origendhscode=\endhscode
   \def\endhscode{\def\hscode{\endgroup\def\@currenvir{hscode}\\}\begingroup}
   %\let\SaveRestoreHook=\empty
   %\let\ColumnHook=\empty
   %\let\resethooks=\empty
   \orighscode\def\hscode{\endgroup\def\@currenvir{hscode}}}%
  {\origendhscode
   \global\let\hscode=\orighscode
   \global\let\endhscode=\origendhscode}%

\makeatother
\EndFmtInput
%
%
\ReadOnlyOnce{agda.fmt}%


\RequirePackage[T1]{fontenc}
\RequirePackage[utf8x]{inputenc}
\RequirePackage{ucs}
\RequirePackage{amsfonts}

\providecommand\mathbbm{\mathbb}

% TODO: Define more of these ...
\DeclareUnicodeCharacter{737}{\textsuperscript{l}}
\DeclareUnicodeCharacter{8718}{\ensuremath{\blacksquare}}
\DeclareUnicodeCharacter{8759}{::}
\DeclareUnicodeCharacter{9669}{\ensuremath{\triangleleft}}
\DeclareUnicodeCharacter{8799}{\ensuremath{\stackrel{\scriptscriptstyle ?}{=}}}
\DeclareUnicodeCharacter{10214}{\ensuremath{\llbracket}}
\DeclareUnicodeCharacter{10215}{\ensuremath{\rrbracket}}

% TODO: This is in general not a good idea.
\providecommand\textepsilon{$\epsilon$}
\providecommand\textmu{$\mu$}


%Actually, varsyms should not occur in Agda output.

% TODO: Make this configurable. IMHO, italics doesn't work well
% for Agda code.

\renewcommand\Varid[1]{\mathord{\textsf{#1}}}
\let\Conid\Varid
\newcommand\Keyword[1]{\textsf{\textbf{#1}}}
\EndFmtInput


\include{preamble}

\begin{document}

\title{Symmetric Categorial Grammar in Agda}%
\author{Pepijn Kokke}%
\maketitle

\begin{abstract}
In recent years, the interest in using proof assistants to reason about
categorial grammars has grown.
\end{abstract}


\section{Introduction}


\section{Types, Judgements, Base System}

If we want to model our categorial grammars in Agda, a natural starting point
would be our atomic types---such as \ensuremath{\Varid{n}}, \ensuremath{\Varid{np}}, \ensuremath{\Varid{s}}, etc. These could easily be
represented as an enumerated data type. However, in order to avoid committing
to a certain set of atomic types, and side-step the debate on which types
\textit{should} be atomic, we will simply assume there is a some data type
representing our atomic types.
\begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[B]{}\Keyword{module}\;\Varid{main}\;(\Conid{Univ}\;\mathbin{:}\;\Conid{Set})\;\Keyword{where}{}\<[E]%
\ColumnHook
\end{hscode}\resethooks
Our types can easily be described as a data type, injecting our atomic types
by means of the constructor \ensuremath{\Varid{el}}, and adding the familiar connectives from the
Lambek Grishin calculus as binary constructors.\footnote{
  Agda uses underscores in definitions to denote the argument positions, so
  \ensuremath{\Varid{\char95 ⊗\char95 }} defines an infix, binary connective.
} In the same manner, we will define a data type to represent judgements.
\begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{3}{@{}>{\hspre}l<{\hspost}@{}}%
\column{8}{@{}>{\hspre}l<{\hspost}@{}}%
\column{16}{@{}>{\hspre}l<{\hspost}@{}}%
\column{24}{@{}>{\hspre}l<{\hspost}@{}}%
\column{32}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[B]{}\Keyword{data}\;\Conid{Type}\;\mathbin{:}\;\Conid{Set}\;\Varid{ℓ}\;\Keyword{where}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{el}\;{}\<[16]%
\>[16]{}\mathbin{:}\;\Conid{Univ}\;{}\<[24]%
\>[24]{}\Varid{→}\;\Conid{Type}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{\char95 ⊗\char95 }\;\Varid{\char95 ⇒\char95 }\;\Varid{\char95 ⇐\char95 }\;{}\<[16]%
\>[16]{}\mathbin{:}\;\Conid{Type}\;{}\<[24]%
\>[24]{}\Varid{→}\;\Conid{Type}\;{}\<[32]%
\>[32]{}\Varid{→}\;\Conid{Type}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{\char95 ⊕\char95 }\;\Varid{\char95 ⇚\char95 }\;\Varid{\char95 ⇛\char95 }\;{}\<[16]%
\>[16]{}\mathbin{:}\;\Conid{Type}\;{}\<[24]%
\>[24]{}\Varid{→}\;\Conid{Type}\;{}\<[32]%
\>[32]{}\Varid{→}\;\Conid{Type}{}\<[E]%
\\[\blanklineskip]%
\>[B]{}\Keyword{data}\;\Conid{Judgement}\;\mathbin{:}\;\Conid{Set}\;\Varid{ℓ}\;\Keyword{where}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{\char95 ⊢\char95 }\;{}\<[8]%
\>[8]{}\mathbin{:}\;\Conid{Type}\;\Varid{→}\;\Conid{Type}\;\Varid{→}\;\Conid{Judgement}{}\<[E]%
\ColumnHook
\end{hscode}\resethooks
Using the above definitions, we can now write judgements such as \ensuremath{\Conid{A}\;\Varid{⊗}\;\Conid{A}\;\Varid{⇒}\;\Conid{B}\;\Varid{⊢}\;\Conid{B}}
as Agda values.
\hidden{
\begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{9}{@{}>{\hspre}l<{\hspost}@{}}%
\column{13}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[B]{}\Keyword{infix}\;{}\<[9]%
\>[9]{}\Varid{1}\;{}\<[13]%
\>[13]{}\mathit{LG}\_{}\<[E]%
\\
\>[B]{}\Keyword{infixr}\;{}\<[9]%
\>[9]{}\Varid{20}\;{}\<[13]%
\>[13]{}\Varid{\char95 ⇒\char95 }{}\<[E]%
\\
\>[B]{}\Keyword{infixl}\;{}\<[9]%
\>[9]{}\Varid{20}\;{}\<[13]%
\>[13]{}\Varid{\char95 ⇐\char95 }{}\<[E]%
\\
\>[B]{}\Keyword{infixl}\;{}\<[9]%
\>[9]{}\Varid{25}\;{}\<[13]%
\>[13]{}\Varid{\char95 ⇚\char95 }{}\<[E]%
\\
\>[B]{}\Keyword{infixr}\;{}\<[9]%
\>[9]{}\Varid{25}\;{}\<[13]%
\>[13]{}\Varid{\char95 ⇛\char95 }{}\<[E]%
\\
\>[B]{}\Keyword{infixr}\;{}\<[9]%
\>[9]{}\Varid{30}\;{}\<[13]%
\>[13]{}\Varid{\char95 ⊗\char95 }{}\<[E]%
\\
\>[B]{}\Keyword{infixr}\;{}\<[9]%
\>[9]{}\Varid{30}\;{}\<[13]%
\>[13]{}\Varid{\char95 ⊕\char95 }{}\<[E]%
\ColumnHook
\end{hscode}\resethooks
}
\indent
Next we will define a data type to represent our logical system. This is where
our dependent type system gets a chance to shine! The constructors for our data
type will represent our axiomatic rules, and their types will be constrained by
judgements. Below you can see the entire system \textit{LG} as an Agda data
type.\footnote{
  For the typeset version of this paper we omit all implicit, universally
  quantified arguments, as is conventional in both Haskell~\citep{jones2003}
  and Idris~\citep{brady2013}, and in much of logic.
}
\begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{3}{@{}>{\hspre}l<{\hspost}@{}}%
\column{8}{@{}>{\hspre}l<{\hspost}@{}}%
\column{11}{@{}>{\hspre}l<{\hspost}@{}}%
\column{21}{@{}>{\hspre}l<{\hspost}@{}}%
\column{25}{@{}>{\hspre}l<{\hspost}@{}}%
\column{29}{@{}>{\hspre}l<{\hspost}@{}}%
\column{33}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[B]{}\Keyword{data}\;\mathit{LG}\_\;\mathbin{:}\;\Conid{Judgement}\;\Varid{→}\;\Conid{Set}\;\Varid{ℓ}\;\Keyword{where}{}\<[E]%
\\[\blanklineskip]%
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{ax}\;{}\<[8]%
\>[8]{}\mathbin{:}\;{}\<[11]%
\>[11]{}\mathit{LG}\;\Varid{el}\;\Conid{A}\;\Varid{⊢}\;\Varid{el}\;\Conid{A}{}\<[E]%
\\[\blanklineskip]%
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\mbox{\onelinecomment  residuation and monotonicity for (⇐ , ⊗ , ⇒)}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{r⇒⊗}\;{}\<[8]%
\>[8]{}\mathbin{:}\;{}\<[11]%
\>[11]{}\mathit{LG}\;\Conid{B}\;\Varid{⊢}\;\Conid{A}\;\Varid{⇒}\;\Conid{C}\;{}\<[25]%
\>[25]{}\Varid{→}\;\mathit{LG}\;\Conid{A}\;\Varid{⊗}\;\Conid{B}\;\Varid{⊢}\;\Conid{C}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{r⊗⇒}\;{}\<[8]%
\>[8]{}\mathbin{:}\;{}\<[11]%
\>[11]{}\mathit{LG}\;\Conid{A}\;\Varid{⊗}\;\Conid{B}\;\Varid{⊢}\;\Conid{C}\;{}\<[25]%
\>[25]{}\Varid{→}\;\mathit{LG}\;\Conid{B}\;\Varid{⊢}\;\Conid{A}\;\Varid{⇒}\;\Conid{C}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{r⇐⊗}\;{}\<[8]%
\>[8]{}\mathbin{:}\;{}\<[11]%
\>[11]{}\mathit{LG}\;\Conid{A}\;\Varid{⊢}\;\Conid{C}\;\Varid{⇐}\;\Conid{B}\;{}\<[25]%
\>[25]{}\Varid{→}\;\mathit{LG}\;\Conid{A}\;\Varid{⊗}\;\Conid{B}\;\Varid{⊢}\;\Conid{C}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{r⊗⇐}\;{}\<[8]%
\>[8]{}\mathbin{:}\;{}\<[11]%
\>[11]{}\mathit{LG}\;\Conid{A}\;\Varid{⊗}\;\Conid{B}\;\Varid{⊢}\;\Conid{C}\;{}\<[25]%
\>[25]{}\Varid{→}\;\mathit{LG}\;\Conid{A}\;\Varid{⊢}\;\Conid{C}\;\Varid{⇐}\;\Conid{B}{}\<[E]%
\\[\blanklineskip]%
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{m⊗}\;{}\<[8]%
\>[8]{}\mathbin{:}\;{}\<[11]%
\>[11]{}\mathit{LG}\;\Conid{A}\;\Varid{⊢}\;\Conid{B}\;{}\<[21]%
\>[21]{}\Varid{→}\;\mathit{LG}\;\Conid{C}\;\Varid{⊢}\;\Conid{D}\;{}\<[33]%
\>[33]{}\Varid{→}\;\mathit{LG}\;\Conid{A}\;\Varid{⊗}\;\Conid{C}\;\Varid{⊢}\;\Conid{B}\;\Varid{⊗}\;\Conid{D}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{m⇒}\;{}\<[8]%
\>[8]{}\mathbin{:}\;{}\<[11]%
\>[11]{}\mathit{LG}\;\Conid{A}\;\Varid{⊢}\;\Conid{B}\;{}\<[21]%
\>[21]{}\Varid{→}\;\mathit{LG}\;\Conid{C}\;\Varid{⊢}\;\Conid{D}\;{}\<[33]%
\>[33]{}\Varid{→}\;\mathit{LG}\;\Conid{B}\;\Varid{⇒}\;\Conid{C}\;\Varid{⊢}\;\Conid{A}\;\Varid{⇒}\;\Conid{D}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{m⇐}\;{}\<[8]%
\>[8]{}\mathbin{:}\;{}\<[11]%
\>[11]{}\mathit{LG}\;\Conid{A}\;\Varid{⊢}\;\Conid{B}\;{}\<[21]%
\>[21]{}\Varid{→}\;\mathit{LG}\;\Conid{C}\;\Varid{⊢}\;\Conid{D}\;{}\<[33]%
\>[33]{}\Varid{→}\;\mathit{LG}\;\Conid{A}\;\Varid{⇐}\;\Conid{D}\;\Varid{⊢}\;\Conid{B}\;\Varid{⇐}\;\Conid{C}{}\<[E]%
\\[\blanklineskip]%
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\mbox{\onelinecomment  residuation and monotonicity for (⇚ , ⊕ , ⇛)}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{r⇛⊕}\;{}\<[8]%
\>[8]{}\mathbin{:}\;{}\<[11]%
\>[11]{}\mathit{LG}\;\Conid{B}\;\Varid{⇛}\;\Conid{C}\;\Varid{⊢}\;\Conid{A}\;{}\<[25]%
\>[25]{}\Varid{→}\;\mathit{LG}\;\Conid{C}\;\Varid{⊢}\;\Conid{B}\;\Varid{⊕}\;\Conid{A}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{r⊕⇛}\;{}\<[8]%
\>[8]{}\mathbin{:}\;{}\<[11]%
\>[11]{}\mathit{LG}\;\Conid{C}\;\Varid{⊢}\;\Conid{B}\;\Varid{⊕}\;\Conid{A}\;{}\<[25]%
\>[25]{}\Varid{→}\;\mathit{LG}\;\Conid{B}\;\Varid{⇛}\;\Conid{C}\;\Varid{⊢}\;\Conid{A}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{r⊕⇚}\;{}\<[8]%
\>[8]{}\mathbin{:}\;{}\<[11]%
\>[11]{}\mathit{LG}\;\Conid{C}\;\Varid{⊢}\;\Conid{B}\;\Varid{⊕}\;\Conid{A}\;{}\<[25]%
\>[25]{}\Varid{→}\;\mathit{LG}\;\Conid{C}\;\Varid{⇚}\;\Conid{A}\;\Varid{⊢}\;\Conid{B}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{r⇚⊕}\;{}\<[8]%
\>[8]{}\mathbin{:}\;{}\<[11]%
\>[11]{}\mathit{LG}\;\Conid{C}\;\Varid{⇚}\;\Conid{A}\;\Varid{⊢}\;\Conid{B}\;{}\<[25]%
\>[25]{}\Varid{→}\;\mathit{LG}\;\Conid{C}\;\Varid{⊢}\;\Conid{B}\;\Varid{⊕}\;\Conid{A}{}\<[E]%
\\[\blanklineskip]%
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{m⊕}\;{}\<[8]%
\>[8]{}\mathbin{:}\;{}\<[11]%
\>[11]{}\mathit{LG}\;\Conid{A}\;\Varid{⊢}\;\Conid{B}\;{}\<[21]%
\>[21]{}\Varid{→}\;\mathit{LG}\;\Conid{C}\;\Varid{⊢}\;\Conid{D}\;{}\<[33]%
\>[33]{}\Varid{→}\;\mathit{LG}\;\Conid{A}\;\Varid{⊕}\;\Conid{C}\;\Varid{⊢}\;\Conid{B}\;\Varid{⊕}\;\Conid{D}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{m⇛}\;{}\<[8]%
\>[8]{}\mathbin{:}\;{}\<[11]%
\>[11]{}\mathit{LG}\;\Conid{C}\;\Varid{⊢}\;\Conid{D}\;{}\<[21]%
\>[21]{}\Varid{→}\;\mathit{LG}\;\Conid{A}\;\Varid{⊢}\;\Conid{B}\;{}\<[33]%
\>[33]{}\Varid{→}\;\mathit{LG}\;\Conid{D}\;\Varid{⇛}\;\Conid{A}\;\Varid{⊢}\;\Conid{C}\;\Varid{⇛}\;\Conid{B}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{m⇚}\;{}\<[8]%
\>[8]{}\mathbin{:}\;{}\<[11]%
\>[11]{}\mathit{LG}\;\Conid{A}\;\Varid{⊢}\;\Conid{B}\;{}\<[21]%
\>[21]{}\Varid{→}\;\mathit{LG}\;\Conid{C}\;\Varid{⊢}\;\Conid{D}\;{}\<[33]%
\>[33]{}\Varid{→}\;\mathit{LG}\;\Conid{A}\;\Varid{⇚}\;\Conid{D}\;\Varid{⊢}\;\Conid{B}\;\Varid{⇚}\;\Conid{C}{}\<[E]%
\\[\blanklineskip]%
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\mbox{\onelinecomment  grishin distributives}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{d⇛⇐}\;{}\<[8]%
\>[8]{}\mathbin{:}\;{}\<[11]%
\>[11]{}\mathit{LG}\;\Conid{A}\;\Varid{⊗}\;\Conid{B}\;\Varid{⊢}\;\Conid{C}\;\Varid{⊕}\;\Conid{D}\;{}\<[29]%
\>[29]{}\Varid{→}\;\mathit{LG}\;\Conid{C}\;\Varid{⇛}\;\Conid{A}\;\Varid{⊢}\;\Conid{D}\;\Varid{⇐}\;\Conid{B}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{d⇛⇒}\;{}\<[8]%
\>[8]{}\mathbin{:}\;{}\<[11]%
\>[11]{}\mathit{LG}\;\Conid{A}\;\Varid{⊗}\;\Conid{B}\;\Varid{⊢}\;\Conid{C}\;\Varid{⊕}\;\Conid{D}\;{}\<[29]%
\>[29]{}\Varid{→}\;\mathit{LG}\;\Conid{C}\;\Varid{⇛}\;\Conid{B}\;\Varid{⊢}\;\Conid{A}\;\Varid{⇒}\;\Conid{D}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{d⇚⇒}\;{}\<[8]%
\>[8]{}\mathbin{:}\;{}\<[11]%
\>[11]{}\mathit{LG}\;\Conid{A}\;\Varid{⊗}\;\Conid{B}\;\Varid{⊢}\;\Conid{C}\;\Varid{⊕}\;\Conid{D}\;{}\<[29]%
\>[29]{}\Varid{→}\;\mathit{LG}\;\Conid{B}\;\Varid{⇚}\;\Conid{D}\;\Varid{⊢}\;\Conid{A}\;\Varid{⇒}\;\Conid{C}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{d⇚⇐}\;{}\<[8]%
\>[8]{}\mathbin{:}\;{}\<[11]%
\>[11]{}\mathit{LG}\;\Conid{A}\;\Varid{⊗}\;\Conid{B}\;\Varid{⊢}\;\Conid{C}\;\Varid{⊕}\;\Conid{D}\;{}\<[29]%
\>[29]{}\Varid{→}\;\mathit{LG}\;\Conid{A}\;\Varid{⇚}\;\Conid{D}\;\Varid{⊢}\;\Conid{C}\;\Varid{⇐}\;\Conid{B}{}\<[E]%
\ColumnHook
\end{hscode}\resethooks
Using this data type we can already do quite a lot. For instance, we can show
that while \ensuremath{\Varid{ax}} above is restricted to atomic types, the unrestricted version
is admissible, by induction on the type.
\begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{15}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[B]{}\Varid{ax′}\;\mathbin{:}\;\mathit{LG}\;\Conid{A}\;\Varid{⊢}\;\Conid{A}{}\<[E]%
\\
\>[B]{}\Varid{ax′}\;\{\mskip1.5mu \Conid{A}\;\mathrel{=}\;\Varid{el}\;{}\<[15]%
\>[15]{}\anonymous \mskip1.5mu\}\;\mathrel{=}\;\Varid{ax}{}\<[E]%
\\
\>[B]{}\Varid{ax′}\;\{\mskip1.5mu \Conid{A}\;\mathrel{=}\;\anonymous \;\Varid{⊗}\;{}\<[15]%
\>[15]{}\anonymous \mskip1.5mu\}\;\mathrel{=}\;\Varid{m⊗}\;\Varid{ax′}\;\Varid{ax′}{}\<[E]%
\\
\>[B]{}\Varid{ax′}\;\{\mskip1.5mu \Conid{A}\;\mathrel{=}\;\anonymous \;\Varid{⇐}\;{}\<[15]%
\>[15]{}\anonymous \mskip1.5mu\}\;\mathrel{=}\;\Varid{m⇐}\;\Varid{ax′}\;\Varid{ax′}{}\<[E]%
\\
\>[B]{}\Varid{ax′}\;\{\mskip1.5mu \Conid{A}\;\mathrel{=}\;\anonymous \;\Varid{⇒}\;{}\<[15]%
\>[15]{}\anonymous \mskip1.5mu\}\;\mathrel{=}\;\Varid{m⇒}\;\Varid{ax′}\;\Varid{ax′}{}\<[E]%
\\
\>[B]{}\Varid{ax′}\;\{\mskip1.5mu \Conid{A}\;\mathrel{=}\;\anonymous \;\Varid{⊕}\;{}\<[15]%
\>[15]{}\anonymous \mskip1.5mu\}\;\mathrel{=}\;\Varid{m⊕}\;\Varid{ax′}\;\Varid{ax′}{}\<[E]%
\\
\>[B]{}\Varid{ax′}\;\{\mskip1.5mu \Conid{A}\;\mathrel{=}\;\anonymous \;\Varid{⇚}\;{}\<[15]%
\>[15]{}\anonymous \mskip1.5mu\}\;\mathrel{=}\;\Varid{m⇚}\;\Varid{ax′}\;\Varid{ax′}{}\<[E]%
\\
\>[B]{}\Varid{ax′}\;\{\mskip1.5mu \Conid{A}\;\mathrel{=}\;\anonymous \;\Varid{⇛}\;{}\<[15]%
\>[15]{}\anonymous \mskip1.5mu\}\;\mathrel{=}\;\Varid{m⇛}\;\Varid{ax′}\;\Varid{ax′}{}\<[E]%
\ColumnHook
\end{hscode}\resethooks
Or we could derive the various (co-)applications that hold in the Lambek Grishin
calculus.
\begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{10}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[B]{}\Varid{appl-⇒′}\;{}\<[10]%
\>[10]{}\mathbin{:}\;\mathit{LG}\;\Conid{A}\;\Varid{⊗}\;(\Conid{A}\;\Varid{⇒}\;\Conid{B})\;\Varid{⊢}\;\Conid{B}{}\<[E]%
\\
\>[B]{}\Varid{appl-⇒′}\;{}\<[10]%
\>[10]{}\mathrel{=}\;\Varid{r⇒⊗}\;(\Varid{m⇒}\;\Varid{ax′}\;\Varid{ax′}){}\<[E]%
\\[\blanklineskip]%
\>[B]{}\Varid{appl-⇐′}\;{}\<[10]%
\>[10]{}\mathbin{:}\;\mathit{LG}\;(\Conid{B}\;\Varid{⇐}\;\Conid{A})\;\Varid{⊗}\;\Conid{A}\;\Varid{⊢}\;\Conid{B}{}\<[E]%
\\
\>[B]{}\Varid{appl-⇐′}\;{}\<[10]%
\>[10]{}\mathrel{=}\;\Varid{r⇐⊗}\;(\Varid{m⇐}\;\Varid{ax′}\;\Varid{ax′}){}\<[E]%
\\[\blanklineskip]%
\>[B]{}\Varid{appl-⇛′}\;{}\<[10]%
\>[10]{}\mathbin{:}\;\mathit{LG}\;\Conid{B}\;\Varid{⊢}\;\Conid{A}\;\Varid{⊕}\;(\Conid{A}\;\Varid{⇛}\;\Conid{B}){}\<[E]%
\\
\>[B]{}\Varid{appl-⇛′}\;{}\<[10]%
\>[10]{}\mathrel{=}\;\Varid{r⇛⊕}\;(\Varid{m⇛}\;\Varid{ax′}\;\Varid{ax′}){}\<[E]%
\\[\blanklineskip]%
\>[B]{}\Varid{appl-⇚′}\;{}\<[10]%
\>[10]{}\mathbin{:}\;\mathit{LG}\;\Conid{B}\;\Varid{⊢}\;(\Conid{B}\;\Varid{⇚}\;\Conid{A})\;\Varid{⊕}\;\Conid{A}{}\<[E]%
\\
\>[B]{}\Varid{appl-⇚′}\;{}\<[10]%
\>[10]{}\mathrel{=}\;\Varid{r⇚⊕}\;(\Varid{m⇚}\;\Varid{ax′}\;\Varid{ax′}){}\<[E]%
\ColumnHook
\end{hscode}\resethooks
But neither of those is really interesting compared to what is probably one of
the most compelling reasons to use this axiomatisation...


\section{Admissible Transitivity}

We would like to show that \ensuremath{\Varid{trans′}} of type \ensuremath{\mathit{LG}\;\Conid{A}\;\Varid{⊢}\;\Conid{B}\;\Varid{→}\;\mathit{LG}\;\Conid{B}\;\Varid{⊢}\;\Conid{C}\;\Varid{→}\;\mathit{LG}\;\Conid{A}\;\Varid{⊢}\;\Conid{C}} is
an admissible rule. The conventional proof for this reads as follows:
\begin{enumerate}[label= (\roman*)]
\item\label{p1} every connective is introduced \textit{symmetrically} by a
  monotonicity rule or axiom;
\item\label{p2} every connective has a side (antecedent or succedent) where,
  if it occurs there at the top level, it cannot be taken apart or moved by
  any inference rule;
\item\label{p3} due to~\ref{p1} and~\ref{p2}, when we find such an
  \textit{immovable} connective, we can be sure that after an arbitrary number
  of proof steps we will find the monotonicity rule which introduces that
  connective;
\item\label{p4} due to the type of \ensuremath{\Varid{trans′}}, when we match on the cut formula
  \ensuremath{\Conid{B}}, regardless of the main connective in \ensuremath{\Conid{B}}, we will always have a proof
  with an immovable variant of that connective;
\item\label{p5} finally, for each connective there exists a rewrite schema which
  makes use of the facts in~\ref{p3} and~\ref{p4} to rewrite an application of
  \ensuremath{\Varid{trans′}} to two smaller applications of \ensuremath{\Varid{trans′}} on the arguments of the
  connective (for binary connectives), or simply to a proof (in the case of
  atomic formulas). For example, the rewrite schema for \ensuremath{\Varid{\char95 ⊗\char95 }} can be found
  in figure~\ref{cut:otimes}.
\end{enumerate}

\begin{figure*}[hb]%
  \footnotesize
  \hspace*{-\parindent}%
  \begin{minipage}{.47\linewidth}
    \begin{prooftree}
      \AXC{$E     \vdash B    $}
      \AXC{$    F \vdash     C$}
      \BIC{$E ⊗ F \vdash B ⊗ C$}
      \UIC{$      \vdots      $}
      \UIC{$A     \vdash B ⊗ C$}
      \AXC{$B ⊗ C \vdash D    $}
      \BIC{$A     \vdash D    $}
    \end{prooftree}
  \end{minipage}
  \begin{minipage}{.06\linewidth}
    $$\leadsto$$
  \end{minipage}
  \begin{minipage}{.47\linewidth}
    \begin{prooftree}
      \footnotesize
      \AXC{$E     \vdash B    $}
      \AXC{$    F \vdash C    $}
      \AXC{$B ⊗ C \vdash     D$}
      \UIC{$    C \vdash B \varbslash D$}
      \BIC{$    F \vdash B \varbslash D$}
      \UIC{$B ⊗ F \vdash     D$}
      \UIC{$B     \vdash D \varslash F$}
      \BIC{$E     \vdash D \varslash F$}
      \UIC{$E ⊗ F \vdash D    $}
      \UIC{$      \vdots      $}
      \UIC{$A     \vdash D    $}
    \end{prooftree}
  \end{minipage}%
\caption{Rewrite schema for cut on formula \ensuremath{\Conid{B}\;\Varid{⊗}\;\Conid{C}}.}
\label{cut:otimes}
\end{figure*}


\subsubsection*{Formula Contexts}

\begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{3}{@{}>{\hspre}l<{\hspost}@{}}%
\column{19}{@{}>{\hspre}l<{\hspost}@{}}%
\column{30}{@{}>{\hspre}l<{\hspost}@{}}%
\column{41}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[B]{}\Keyword{data}\;\Conid{Context}\;\mathbin{:}\;\Conid{Set}\;\Varid{ℓ}\;\Keyword{where}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}[\mskip1.5mu \mskip1.5mu]\;{}\<[19]%
\>[19]{}\mathbin{:}\;\Conid{Context}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\_\holer{\otimes}\_\;\_\holer{\varbslash}\_\;\_\holer{\varslash}\_\;{}\<[19]%
\>[19]{}\mathbin{:}\;\Conid{Type}\;{}\<[30]%
\>[30]{}\Varid{→}\;\Conid{Context}\;{}\<[41]%
\>[41]{}\Varid{→}\;\Conid{Context}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\_\holer{\oplus}\_\;\_\holer{\varoslash}\_\;\_\holer{\varobslash}\_\;{}\<[19]%
\>[19]{}\mathbin{:}\;\Conid{Type}\;{}\<[30]%
\>[30]{}\Varid{→}\;\Conid{Context}\;{}\<[41]%
\>[41]{}\Varid{→}\;\Conid{Context}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\_\holel{\otimes}\_\;\_\holel{\varbslash}\_\;\_\holel{\varslash}\_\;{}\<[19]%
\>[19]{}\mathbin{:}\;\Conid{Context}\;{}\<[30]%
\>[30]{}\Varid{→}\;\Conid{Type}\;{}\<[41]%
\>[41]{}\Varid{→}\;\Conid{Context}{}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\_\holel{\oplus}\_\;\_\holel{\varoslash}\_\;\_\holel{\varobslash}\_\;{}\<[19]%
\>[19]{}\mathbin{:}\;\Conid{Context}\;{}\<[30]%
\>[30]{}\Varid{→}\;\Conid{Type}\;{}\<[41]%
\>[41]{}\Varid{→}\;\Conid{Context}{}\<[E]%
\ColumnHook
\end{hscode}\resethooks

\begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{7}{@{}>{\hspre}l<{\hspost}@{}}%
\column{18}{@{}>{\hspre}l<{\hspost}@{}}%
\column{29}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[B]{}\anonymous \;[\mskip1.5mu \anonymous \mskip1.5mu]\;{}\<[7]%
\>[7]{}\mathbin{:}\;\Conid{Context}\;{}\<[18]%
\>[18]{}\Varid{→}\;\Conid{Type}\;{}\<[29]%
\>[29]{}\Varid{→}\;\Conid{Type}{}\<[E]%
\\
\>[B]{}\Varid{\char95 ⟨\char95 ⟩}\;{}\<[7]%
\>[7]{}\mathbin{:}\;\Conid{Context}\;{}\<[18]%
\>[18]{}\Varid{→}\;\Conid{Context}\;{}\<[29]%
\>[29]{}\Varid{→}\;\Conid{Context}{}\<[E]%
\ColumnHook
\end{hscode}\resethooks



\begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{3}{@{}>{\hspre}l<{\hspost}@{}}%
\column{9}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[B]{}\Keyword{data}\;\Conid{Polarised}\;(\Varid{p}\;\mathbin{:}\;\Conid{Polarity})\;\mathbin{:}\;\Conid{Polarity}\;\Varid{→}\;\Conid{Context}\;\Varid{→}\;\Conid{Set}\;\Varid{ℓ}\;\Keyword{where}{}\<[E]%
\\[\blanklineskip]%
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}[\mskip1.5mu \mskip1.5mu]\;{}\<[9]%
\>[9]{}\mathbin{:}\;\Conid{Polarised}\;\Varid{p}\;\Varid{p}\;[\mskip1.5mu \mskip1.5mu]{}\<[E]%
\\[\blanklineskip]%
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\_\holer{\otimes}\_\;{}\<[9]%
\>[9]{}\mathbin{:}\;(\Conid{A}\;\mathbin{:}\;\Conid{Type})\;\{\mskip1.5mu \Conid{B}\;\mathbin{:}\;\Conid{Context}\mskip1.5mu\}\;{}\<[E]%
\\
\>[9]{}\Varid{→}\;\Conid{Polarised}\;\Varid{p}\;+\;\Conid{B}\;{}\<[E]%
\\
\>[9]{}\Varid{→}\;\Conid{Polarised}\;\Varid{p}\;+\;(\Conid{A}\;\holer{\otimes}\;\Conid{B}){}\<[E]%
\\[\blanklineskip]%
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\_\holer{\varbslash}\_\;{}\<[9]%
\>[9]{}\mathbin{:}\;(\Conid{A}\;\mathbin{:}\;\Conid{Type})\;\{\mskip1.5mu \Conid{B}\;\mathbin{:}\;\Conid{Context}\mskip1.5mu\}\;{}\<[E]%
\\
\>[9]{}\Varid{→}\;\Conid{Polarised}\;\Varid{p}\;-\;\Conid{B}\;{}\<[E]%
\\
\>[9]{}\Varid{→}\;\Conid{Polarised}\;\Varid{p}\;-\;(\Conid{A}\;\holer{\varbslash}\;\Conid{B}){}\<[E]%
\\
\>[B]{}\hsindent{3}{}\<[3]%
\>[3]{}\Varid{...}{}\<[E]%
\ColumnHook
\end{hscode}\resethooks


\subsubsection*{Origins}

\begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{3}{@{}>{\hspre}l<{\hspost}@{}}%
\column{5}{@{}>{\hspre}l<{\hspost}@{}}%
\column{15}{@{}>{\hspre}l<{\hspost}@{}}%
\column{20}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[3]{}\Keyword{data}\;\Conid{Origin}\;(\Conid{J⁻}\;\mathbin{:}\;\Conid{Polarisedᴶ}\;-\;\Conid{J})\;(\Varid{f}\;\mathbin{:}\;\mathit{LG}\;\Conid{J}\;[\mskip1.5mu \Conid{B}\;\Varid{⊗}\;\Conid{C}\mskip1.5mu]\;\Varid{ᴶ})\;\mathbin{:}\;\Conid{Set}\;\Varid{ℓ}\;\Keyword{where}{}\<[E]%
\\
\>[3]{}\hsindent{2}{}\<[5]%
\>[5]{}\Varid{origin}\;\mathbin{:}\;{}\<[15]%
\>[15]{}(\Varid{h₁}\;{}\<[20]%
\>[20]{}\mathbin{:}\;\mathit{LG}\;\Conid{E}\;\Varid{⊢}\;\Conid{B})\;{}\<[E]%
\\
\>[15]{}(\Varid{h₂}\;{}\<[20]%
\>[20]{}\mathbin{:}\;\mathit{LG}\;\Conid{F}\;\Varid{⊢}\;\Conid{C})\;{}\<[E]%
\\
\>[15]{}(\Varid{f′}\;{}\<[20]%
\>[20]{}\mathbin{:}\;\Varid{∀}\;\{\mskip1.5mu \Conid{G}\mskip1.5mu\}\;\Varid{→}\;\mathit{LG}\;\Conid{E}\;\Varid{⊗}\;\Conid{F}\;\Varid{⊢}\;\Conid{G}\;\Varid{⋯}\;\Conid{J}\;[\mskip1.5mu \Conid{G}\mskip1.5mu]\;\Varid{ᴶ})\;{}\<[E]%
\\
\>[15]{}(\Varid{pr}\;{}\<[20]%
\>[20]{}\mathbin{:}\;\Varid{f}\;\Varid{≡}\;\Varid{f′}\;\mathbin{\$}\;\Varid{m⊗}\;\Varid{h₁}\;\Varid{h₂})\;{}\<[E]%
\\
\>[20]{}\Varid{→}\;\Conid{Origin}\;\Conid{J⁻}\;\Varid{f}{}\<[E]%
\ColumnHook
\end{hscode}\resethooks

\begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{3}{@{}>{\hspre}l<{\hspost}@{}}%
\column{30}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[3]{}\Varid{viewOrigin}\;\mathbin{:}\;(\Conid{J⁻}\;\mathbin{:}\;\Conid{Polarisedᴶ}\;-\;\Conid{J})\;(\Varid{f}\;\mathbin{:}\;\mathit{LG}\;\Conid{J}\;[\mskip1.5mu \Conid{B}\;\Varid{⊗}\;\Conid{C}\mskip1.5mu]\;\Varid{ᴶ})\;\Varid{→}\;\Conid{Origin}\;\Conid{J⁻}\;\Varid{f}{}\<[E]%
\\
\>[3]{}\Varid{viewOrigin}\;(\Varid{.\char95 }\;\holer{\vdash}\;[\mskip1.5mu \mskip1.5mu])\;(\Varid{m⊗}\;{}\<[30]%
\>[30]{}\Varid{f}\;\Varid{g})\;\mathrel{=}\;\Varid{origin}\;\Varid{f}\;\Varid{g}\;[\mskip1.5mu \mskip1.5mu]\;\Varid{refl}{}\<[E]%
\\
\>[3]{}\Varid{...}{}\<[E]%
\ColumnHook
\end{hscode}\resethooks

\begin{figure*}
\centering
\begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{18}{@{}>{\hspre}l<{\hspost}@{}}%
\column{21}{@{}>{\hspre}l<{\hspost}@{}}%
\column{24}{@{}>{\hspre}l<{\hspost}@{}}%
\column{25}{@{}>{\hspre}l<{\hspost}@{}}%
\column{33}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[B]{}\Varid{trans′}\;\mathbin{:}\;\Varid{∀}\;\{\mskip1.5mu \Conid{A}\;\Conid{B}\;\Conid{C}\mskip1.5mu\}\;(\Varid{f}\;\mathbin{:}\;\mathit{LG}\;\Conid{A}\;\Varid{⊢}\;\Conid{B})\;(\Varid{g}\;\mathbin{:}\;\mathit{LG}\;\Conid{B}\;\Varid{⊢}\;\Conid{C})\;\Varid{→}\;\mathit{LG}\;\Conid{A}\;\Varid{⊢}\;\Conid{C}{}\<[E]%
\\
\>[B]{}\Varid{trans′}\;\{\mskip1.5mu \Conid{B}\;\mathrel{=}\;\Varid{el}\;\anonymous \mskip1.5mu\}\;{}\<[21]%
\>[21]{}\Varid{f}\;{}\<[24]%
\>[24]{}\Varid{g}\;\Keyword{with}\;\Varid{el.viewOrigin}\;([\mskip1.5mu \mskip1.5mu]\;\holel{\vdash}\;\anonymous )\;\Varid{g}{}\<[E]%
\\
\>[B]{}\Varid{...}\;\mid \;(\Varid{el.origin}\;{}\<[25]%
\>[25]{}\Varid{g′}\;\Varid{pr})\;{}\<[33]%
\>[33]{}\mathrel{=}\;\Varid{g′}\;\Varid{f}{}\<[E]%
\\
\>[B]{}\Varid{trans′}\;\{\mskip1.5mu \Conid{B}\;\mathrel{=}\;\anonymous \;\Varid{⊗}\;\anonymous \mskip1.5mu\}\;{}\<[21]%
\>[21]{}\Varid{f}\;{}\<[24]%
\>[24]{}\Varid{g}\;\Keyword{with}\;\Varid{⊗.viewOrigin}\;(\anonymous \;\holer{\vdash}\;[\mskip1.5mu \mskip1.5mu])\;\Varid{f}{}\<[E]%
\\
\>[B]{}\Varid{...}\;\mid \;(\Varid{⊗.origin}\;{}\<[18]%
\>[18]{}\Varid{h₁}\;\Varid{h₂}\;{}\<[25]%
\>[25]{}\Varid{f′}\;\Varid{pr})\;{}\<[33]%
\>[33]{}\mathrel{=}\;\Varid{f′}\;(\Varid{r⇐⊗}\;(\Varid{trans′}\;\Varid{h₁}\;(\Varid{r⊗⇐}\;(\Varid{r⇒⊗}\;(\Varid{trans′}\;\Varid{h₂}\;(\Varid{r⊗⇒}\;\Varid{g})))))){}\<[E]%
\\
\>[B]{}\Varid{trans′}\;\{\mskip1.5mu \Conid{B}\;\mathrel{=}\;\anonymous \;\Varid{⇐}\;\anonymous \mskip1.5mu\}\;{}\<[21]%
\>[21]{}\Varid{f}\;{}\<[24]%
\>[24]{}\Varid{g}\;\Keyword{with}\;\Varid{⇐.viewOrigin}\;([\mskip1.5mu \mskip1.5mu]\;\holel{\vdash}\;\anonymous )\;\Varid{g}{}\<[E]%
\\
\>[B]{}\Varid{...}\;\mid \;(\Varid{⇐.origin}\;{}\<[18]%
\>[18]{}\Varid{h₁}\;\Varid{h₂}\;{}\<[25]%
\>[25]{}\Varid{g′}\;\Varid{pr})\;{}\<[33]%
\>[33]{}\mathrel{=}\;\Varid{g′}\;(\Varid{r⊗⇐}\;(\Varid{r⇒⊗}\;(\Varid{trans′}\;\Varid{h₂}\;(\Varid{r⊗⇒}\;(\Varid{trans′}\;(\Varid{r⇐⊗}\;\Varid{f})\;\Varid{h₁}))))){}\<[E]%
\\
\>[B]{}\Varid{trans′}\;\{\mskip1.5mu \Conid{B}\;\mathrel{=}\;\anonymous \;\Varid{⇒}\;\anonymous \mskip1.5mu\}\;{}\<[21]%
\>[21]{}\Varid{f}\;{}\<[24]%
\>[24]{}\Varid{g}\;\Keyword{with}\;\Varid{⇒.viewOrigin}\;([\mskip1.5mu \mskip1.5mu]\;\holel{\vdash}\;\anonymous )\;\Varid{g}{}\<[E]%
\\
\>[B]{}\Varid{...}\;\mid \;(\Varid{⇒.origin}\;{}\<[18]%
\>[18]{}\Varid{h₁}\;\Varid{h₂}\;{}\<[25]%
\>[25]{}\Varid{g′}\;\Varid{pr})\;{}\<[33]%
\>[33]{}\mathrel{=}\;\Varid{g′}\;(\Varid{r⊗⇒}\;(\Varid{r⇐⊗}\;(\Varid{trans′}\;\Varid{h₁}\;(\Varid{r⊗⇐}\;(\Varid{trans′}\;(\Varid{r⇒⊗}\;\Varid{f})\;\Varid{h₂}))))){}\<[E]%
\\
\>[B]{}\Varid{trans′}\;\{\mskip1.5mu \Conid{B}\;\mathrel{=}\;\anonymous \;\Varid{⊕}\;\anonymous \mskip1.5mu\}\;{}\<[21]%
\>[21]{}\Varid{f}\;{}\<[24]%
\>[24]{}\Varid{g}\;\Keyword{with}\;\Varid{⊕.viewOrigin}\;([\mskip1.5mu \mskip1.5mu]\;\holel{\vdash}\;\anonymous )\;\Varid{g}{}\<[E]%
\\
\>[B]{}\Varid{...}\;\mid \;(\Varid{⊕.origin}\;{}\<[18]%
\>[18]{}\Varid{h₁}\;\Varid{h₂}\;{}\<[25]%
\>[25]{}\Varid{g′}\;\Varid{pr})\;{}\<[33]%
\>[33]{}\mathrel{=}\;\Varid{g′}\;(\Varid{r⇚⊕}\;(\Varid{trans′}\;(\Varid{r⊕⇚}\;(\Varid{r⇛⊕}\;(\Varid{trans′}\;(\Varid{r⊕⇛}\;\Varid{f})\;\Varid{h₂})))\;\Varid{h₁})){}\<[E]%
\\
\>[B]{}\Varid{trans′}\;\{\mskip1.5mu \Conid{B}\;\mathrel{=}\;\anonymous \;\Varid{⇚}\;\anonymous \mskip1.5mu\}\;{}\<[21]%
\>[21]{}\Varid{f}\;{}\<[24]%
\>[24]{}\Varid{g}\;\Keyword{with}\;\Varid{⇚.viewOrigin}\;(\anonymous \;\holer{\vdash}\;[\mskip1.5mu \mskip1.5mu])\;\Varid{f}{}\<[E]%
\\
\>[B]{}\Varid{...}\;\mid \;(\Varid{⇚.origin}\;{}\<[18]%
\>[18]{}\Varid{h₁}\;\Varid{h₂}\;{}\<[25]%
\>[25]{}\Varid{f′}\;\Varid{pr})\;{}\<[33]%
\>[33]{}\mathrel{=}\;\Varid{f′}\;(\Varid{r⊕⇚}\;(\Varid{r⇛⊕}\;(\Varid{trans′}\;(\Varid{r⊕⇛}\;(\Varid{trans′}\;\Varid{h₁}\;(\Varid{r⇚⊕}\;\Varid{g})))\;\Varid{h₂}))){}\<[E]%
\\
\>[B]{}\Varid{trans′}\;\{\mskip1.5mu \Conid{B}\;\mathrel{=}\;\anonymous \;\Varid{⇛}\;\anonymous \mskip1.5mu\}\;{}\<[21]%
\>[21]{}\Varid{f}\;{}\<[24]%
\>[24]{}\Varid{g}\;\Keyword{with}\;\Varid{⇛.viewOrigin}\;(\anonymous \;\holer{\vdash}\;[\mskip1.5mu \mskip1.5mu])\;\Varid{f}{}\<[E]%
\\
\>[B]{}\Varid{...}\;\mid \;(\Varid{⇛.origin}\;{}\<[18]%
\>[18]{}\Varid{h₁}\;\Varid{h₂}\;{}\<[25]%
\>[25]{}\Varid{f′}\;\Varid{pr})\;{}\<[33]%
\>[33]{}\mathrel{=}\;\Varid{f′}\;(\Varid{r⊕⇛}\;(\Varid{r⇚⊕}\;(\Varid{trans′}\;(\Varid{r⊕⇚}\;(\Varid{trans′}\;\Varid{h₂}\;(\Varid{r⇛⊕}\;\Varid{g})))\;\Varid{h₁}))){}\<[E]%
\ColumnHook
\end{hscode}\resethooks
\label{fun:trans}
\caption{Proof of admissible transitivity.}
\end{figure*}

\nocite{*}
\bibliographystyle{apalike}
\bibliography{main}

\end{document}
