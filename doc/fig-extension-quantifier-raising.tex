\begin{figure}[h]
  \begin{mdframed}
    \centering
    \begin{minipage}{0.666\linewidth}
      \centering
      \begin{alignat*}{4}
        \text{Type}     &  \;&A,B&\coloneqq\ldots\vsep A\himpr B\vsep B\himpl A\vsep\q[A]\\
        \text{Structure}&^+\;&Γ  &\coloneqq\ldots\vsep Γ_1\hprod Γ_2\vsep\I\vsep\B\vsep\C\\
        \text{Structure}&^-\;&Δ  &\coloneqq\ldots\vsep Γ\himpr Δ\vsep Δ\himpl Γ
      \end{alignat*}
    \end{minipage}%
    \begin{minipage}{0.333\linewidth}
      \centering
      \begin{alignat*}{4}
        &\text{Pol}(A\himpr B) &&\mapsto{-}\\
        &\text{Pol}(B\himpl A) &&\mapsto{-}\\
        &\text{Pol}(\q[A])    &&\mapsto{+}
      \end{alignat*}
    \end{minipage}
    \\[1\baselineskip]
    (copy of rules for $\{\impr,\prod,\impl\}$ from
    \autoref{fig:nl-display-calculus} for $\{\himpr,\hprod,\himpl\}$)
    \\[1\baselineskip]
    \begin{pfbox}
      \AXC{$\I\hprod\struct{A}\fCenter Δ$}
      \RightLabel{L\I}
      \UIC{$\struct{\q[A]}\fCenter Δ$}
    \end{pfbox}
    \begin{pfbox}
      \AXC{$Γ\fCenter\focus{B}$}
      \RightLabel{R\I}
      \UIC{$\I\hprodΓ\fCenter\focus{\q[B]}$}
    \end{pfbox}
    \begin{pfbox}
      \AXC{$Γ\fCenter Δ$}
      \RightLabel{$\I^-$}
      \UIC{$\I\hprod Γ\fCenter Δ$}
    \end{pfbox}
    \\[1\baselineskip]
    \begin{pfbox}
      \AXC{$Γ_1\prod(Γ_2\hprod Γ_3)\fCenter Δ$}
      \doubleLine\RightLabel{\B}
      \UIC{$((\B\prod Γ_1)\prod Γ_2)\hprod Γ_3\fCenter Δ$}
    \end{pfbox}
    \begin{pfbox}
      \AXC{$(Γ_1\hprod Γ_3)\prod Γ_2\fCenter Δ$}
      \doubleLine\RightLabel{\C}
      \UIC{$((\C\prod Γ_1)\prod Γ_2)\hprod Γ_3\fCenter Δ$}
    \end{pfbox}
    \\[1\baselineskip]
    \hrulefill
    \\[1\baselineskip]
    {
      \renewcommand{\arraystretch}{1.5}%
      \(\!
      \begin{array}{c c c}
        \multicolumn{3}{c}{\tr[({\q[A]})]\mapsto\tr[A]}\\
        \tr[\I]\mapsto\top      & \tr [\B]\mapsto\top     & \tr [\C]\mapsto\top\\
      \end{array}
      \)
    }
    \\[1\baselineskip]
    (copy of translations for $\{\impr,\prod,\impl\}$ from
    \autoref{fig:nl-display-calculus-to-lamET} for
    $\{\himpr,\hprod,\himpl\}$)
    \\[1\baselineskip]
    \begin{pfbox}
      \AXC{$x:\I\hprod\struct{A}\fCenter M:Δ$}
      \RightLabel{L\I}
      \UIC{$y:\struct{\q[A]}\fCenter \sub{M}{((),y)}{x}:Δ$}
    \end{pfbox}
    \begin{pfbox}
      \AXC{$x:Γ\fCenter\focus{M:B}$}
      \RightLabel{R\I}
      \UIC{$y:\I\hprod Γ\fCenter\focus{\sub{M}{\snd{y}}{x}:\q[B]}$}
    \end{pfbox}
    \begin{pfbox}
      \AXC{$x:Γ\fCenter M:Δ$}
      \RightLabel{$\I^-$}
      \UIC{$y:\I\hprodΓ\fCenter \sub{M}{\snd{y}}{x}:Δ$}
    \end{pfbox}
    \\[1\baselineskip]
    (where $\snd{p}=\case{p}{x}{y}{y}$)
    \\[1\baselineskip]
    (\B\ and \C\ translate to various combinations of associativity,
    commutativity, $\emptyset$E and weakening)
    \\
    \vspace*{\baselineskip}
  \end{mdframed}
  \caption{
    Extension of calculus in \autoref{fig:nl-display-calculus} which
    supports quantifier raising.}%
  \label{fig:extension-quantifier-raising}
\end{figure}
